"use strict";function asyncGeneratorStep(n,t,s,o,a,e,r){try{var c=n[e](r),i=c.value}catch(n){return void s(n)}c.done?t(i):Promise.resolve(i).then(o,a)}function _asyncToGenerator(c){return function(){var n=this,r=arguments;return new Promise(function(t,s){var o=c.apply(n,r);function a(n){asyncGeneratorStep(o,t,s,a,e,"next",n)}function e(n){asyncGeneratorStep(o,t,s,a,e,"throw",n)}a(void 0)})}}$(function(){$(".spxq").on("click","span",function(){$(this).addClass("spxqactive").siblings().removeClass("spxqactive")});var o=null,a=getCookie("goods_id");function n(){return(n=_asyncToGenerator(regeneratorRuntime.mark(function n(){var s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server//getGoodsInfo.php",{goods_id:a},null,"json");case 2:s=n.sent,t=s.info,$("#box1").html('\n        <div class="show">\n            <img src="'.concat(t.goods_big_logo,'" alt=""/>\n            <div class="mask"></div>\n        </div>\n            <div class="list">\n                <p class="activeList activedetail">\n                    <img\n                    src="').concat(t.goods_small_logo,'"\n                    alt=""/>\n                </p>\n                <p>\n                    <img\n                    src="').concat(t.goods_small_logo,'"\n                    alt=""/>\n                </p>\n            </div>\n            <div class="enlarge">\n            </div>\n        ')),$(".goodsdetail .right").html('\n            <p class="desc">\n                '.concat(t.goods_name,'\n            </p>\n            <span style="color: red">①购机赠耳机 ②以旧换新最高补贴1212元</span>\n            <div class="size">\n                <button type="button" class="btn">S</button>\n                <button type="button" class="btn">M</button>\n                <button type="button" class="btn">L</button>\n                <button type="button" class="btn">XL</button>\n            </div>\n            <div class="price">\n                <span>价 &ensp;&ensp; 格</span>\n                <span\n                class="text-danger"\n                style="color: red; font-size: 22px; margin-left: 20px"\n                ><span>￥</span>').concat(t.goods_price,'</span>\n                <p>\n                <span style="margin-left: 0">促 &ensp;&ensp; 销</span\n                ><span style="color: red; border: 1px solid red; padding: 3px"\n                    >赠品</span>\n                </p>\n                <p class="p_2">\n                <span style="color: red; border: 1px solid red; padding: 3px"\n                    >一站式换新</span\n                ><span>以旧换新最高补贴500元</span>\n                </p>\n                <p class="p_1">\n                <span style="color: red; border: 1px solid red; padding: 3px"\n                    >赠送积分</span><span>购买即赠送商城积分积分可抵现~</span>\n                </p>\n            </div>\n            <div class="num">\n                <button class="subNum">-</button>\n                <input type="text" value="1" class="inp"/>\n                <button class="cartNum">+</button>\n            </div>\n            <div class="bon">\n                <button class="btn btn-success mai"><a href="../pages/cart.html" style="color:white;">去结算</a></button>\n                <button class="btn btn-warning addCart">加入购物车</button>\n            </div>\n         ')),$(".goodsDesc").html(t.goods_introduce),$(".enlarge").css({"background-image":"url('".concat(t.goods_small_logo,"')")}),new Enlarge,o=s.info;case 5:case"end":return n.stop()}var t},n)}))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),$(".goodsdetail").on("click",".addCart",function(){console.log("加入购物车");var n,t=JSON.parse(window.localStorage.getItem("cart"))||[];t.some(function(n){return n.goods_id==a})?(n=t.filter(function(n){return n.goods_id==a})[0],console.log(n),n.cart_number=+n.cart_number+ +$(".inp").val()):(o.cart_number=1,t.push(o)),window.localStorage.setItem("cart",JSON.stringify(t))}),$(".goodsdetail").on("click",".subNum",function(){var n=+$(".inp").val();console.log(n),1!=n&&$(".inp").val(n-1)}),$(".goodsdetail").on("click",".cartNum",function(){var n=+$(".inp").val();console.log(n),$(".inp").val(1+n)})});
"use strict";function asyncGeneratorStep(t,e,n,a,s,r,c){try{var o=t[r](c),i=o.value}catch(t){return void n(t)}o.done?e(i):Promise.resolve(i).then(a,s)}function _asyncToGenerator(o){return function(){var t=this,c=arguments;return new Promise(function(e,n){var a=o.apply(t,c);function s(t){asyncGeneratorStep(a,e,n,s,r,"next",t)}function r(t){asyncGeneratorStep(a,e,n,s,r,"throw",t)}s(void 0)})}}$(function(){$(".content").on("mouseover","span",function(){$(this).addClass("active1").siblings().removeClass("active1")}),$(".content").on("mouseleave","span",function(){$(this).removeClass("active1")});var a={cat_one:"all",cat_two:"all",cat_three:"all",sort_method:"综合",sort_type:"ASC",current:1,pagesize:10};function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.get("../server/getCateOne.php",null,null,"json");case 2:e=t.sent,console.log(e),n='<span class="active" data-type="all">全部</span>',e.list.forEach(function(t){n+='\n             <span data-type="'.concat(t.cat_one_id,'">').concat(t.cat_one_id,"</span>\n            ")}),$(".cateOneList .right").html(n);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.get("../server/getCateTwo.php",{cat_one:a.cat_one},null,"json");case 2:e=t.sent,n="<span data-type='all' class=\"active\">全部</span>",e.list.forEach(function(t){n+='\n         <span data-type="'.concat(t.cat_two_id,'">').concat(t.cat_two_id,"</span>\n        ")}),$(".cateTwoList .right").html(n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function n(){return(n=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.get("../server/getCateThree.php",{cat_one:a.cat_one,cat_two:a.cat_two},null,"json");case 2:e=t.sent,n="<span data-type='all' class=\"active\">全部</span>",e.list.forEach(function(t){n+='\n         <span data-type="'.concat(t.cat_three_id,'">').concat(t.cat_three_id,"</span>\n        ")}),$(".cateThreeList .right").html(n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function s(){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.get("../server/getTotlePage.php",a,null,"json");case 2:e=t.sent,$(".pagination").pagination({pageCount:e.total,callback:function(t){a.current=t.getCurrent(),c()}});case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function c(){return o.apply(this,arguments)}function o(){return(o=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.get("../server/getGoodsList.php",a,null,"json");case 2:e=t.sent,e.list,n="",e.list.forEach(function(t){n+='\n                <li class="phoneli" data-id="'.concat(t.goods_id,'">\n                <p class="imgp">\n                <img class="phoneimg"\n                src="').concat(t.goods_big_logo,'"\n                alt=""/>\n                </p>\n                <p class="pp1 mte" >').concat(t.goods_name,'</p>\n                <p class="pp2">').concat(t.cat_id,'</p>\n                <p class="pp3"><span>￥</span>').concat(t.goods_price,"</p>\n            </li>\n            ")}),$(".phonebox ul").html(n);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),s(),c(),$(".cateOneList").on("click","span",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).data("type");console.log(t),a.cat_two="all",a.cat_three="all",a.current=1,a.cat_one=t,s(),c(),"all"==t?($(".cateTwoList .right").html('<span data-type="all" class="active">全部</span>'),$(".cateThreeList .right").html('<span data-type="all" class="active">全部</span>')):function(){e.apply(this,arguments)}()}),$(".cateTwoList").on("click","span",function(){var t=$(this).data("type");$(this).addClass("active").siblings().removeClass("active"),a.cat_two=t,a.current=1,s(),c(),"all"===t?$(".cateThreeList .right").html('<span data-type="all" class="active">全部</span>'):function(){n.apply(this,arguments)}()}),$(".cateThreeList").on("click","span",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).data("type");a.cat_three=t,s(),c()}),$(".sortList").on("click","span",function(){var t=$(this).attr("data-method"),e=$(this).attr("data-type");$(this).addClass("active").siblings().removeClass("active"),a.sort_method=t,a.sort_type=e,s(),c(),$(this).attr("data-type","ASC"===e?"DESC":"ASC").siblings().attr("data-type","ASC")}),$(".phonebox ul").on("click",".phoneli",function(){var t=$(this).data("id");setCookie("goods_id",t),window.location.href="../pages/detail.html"})});
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Banner=function(){function t(e){_classCallCheck(this,t),this.ele=document.querySelector(e),this.imgBox=this.ele.querySelector(".imgBox"),this.pointBox=this.ele.querySelector(".pointBox"),this.leftRightBox=this.ele.querySelector(".leftRightBox"),this.index=0,this.timer=0,this.init()}return _createClass(t,[{key:"init",value:function(){this.setPoint(),this.autoPlay(),this.overOut(),this.leftRight(),this.pointEvent(),this.changePage()}},{key:"setPoint",value:function(){for(var e=this.imgBox.children.length,t=document.createDocumentFragment(),i=0;i<e;i++){var n=document.createElement("li");0===i&&(n.className="active"),n.setAttribute("i",i),t.appendChild(n)}this.pointBox.appendChild(t),this.pointBox.style.width=20*e*1.5+"px"}},{key:"changeOne",value:function(e){this.imgBox.children[this.index].classList.remove("active"),this.pointBox.children[this.index].classList.remove("active"),!0===e?this.index++:!1===e?this.index--:this.index=e,this.index>=this.imgBox.children.length&&(this.index=0),this.index<0&&(this.index=this.imgBox.children.length-1),this.imgBox.children[this.index].classList.add("active"),this.pointBox.children[this.index].classList.add("active")}},{key:"autoPlay",value:function(){var e=this;this.timer=setInterval(function(){e.changeOne(!0)},2e3)}},{key:"overOut",value:function(){var e=this;this.ele.addEventListener("mouseover",function(){return clearInterval(e.timer)}),this.ele.addEventListener("mouseout",function(){return e.autoPlay()})}},{key:"leftRight",value:function(){var t=this;this.leftRightBox.addEventListener("click",function(e){e=(e=e||window.event).target||e.srcElement;"left"===e.className&&t.changeOne(!1),"right"===e.className&&t.changeOne(!0)})}},{key:"pointEvent",value:function(){var t=this;this.pointBox.addEventListener("mouseover",function(e){e=(e=e||window.event).target||e.srcElement;"LI"===e.nodeName&&(e=+e.getAttribute("i"),t.changeOne(e))})}},{key:"changePage",value:function(){var t=this;document.addEventListener("visibilitychange",function(){var e=document.visibilityState;"hidden"===e&&clearInterval(t.timer),"visible"===e&&t.autoPlay()})}}]),t}();